{"config":{"lang":["zh","en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"","title":"Godot-SWF \u63d2\u4ef6\u6587\u6863","text":"<p>Godot-SWF \u662f\u4e00\u4e2a\u4e13\u4e3a Godot 4.x .NET \u7248\u672c\u8bbe\u8ba1\u7684\u9ad8\u6027\u80fd SWF \u52a8\u753b\u64ad\u653e\u5668\u63d2\u4ef6\u3002\u672c\u63d2\u4ef6\u91c7\u7528\u7eaf\u8fd0\u884c\u65f6\u89e3\u6790\u6280\u672f\uff0c\u65e0\u9700\u5bfc\u5165\u8fc7\u7a0b\uff0c\u76f4\u63a5\u5728 Godot \u5f15\u64ce\u4e2d\u64ad\u653e Adobe Animate (Flash) \u5bfc\u51fa\u7684 SWF \u6587\u4ef6\u3002</p>"},{"location":"#_1","title":"\u6838\u5fc3\u7279\u6027","text":""},{"location":"#_2","title":"\u4f18\u52bf","text":"<ul> <li>\u7eaf\u8fd0\u884c\u65f6\u89e3\u6790 - \u65e0\u9700\u5bfc\u5165\u8fc7\u7a0b\uff0cSWF \u6587\u4ef6\u53ef\u76f4\u63a5\u4f5c\u4e3a\u8d44\u6e90\u4f7f\u7528</li> <li>\u9ad8\u6027\u80fd\u77e2\u91cf\u6e32\u67d3 - \u57fa\u4e8e Rendering Server \u5b9e\u73b0\uff0c\u51e0\u4e4e\u4e0d\u4f9d\u8d56\u8282\u70b9\u6811</li> <li>\u53cc\u8bed\u8a00\u652f\u6301 - \u63d0\u4f9b C# \u539f\u751f API \u548c GDScript \u6865\u63a5\u63a5\u53e3</li> <li>\u5b9e\u65f6\u6e32\u67d3 - \u4fdd\u6301\u77e2\u91cf\u56fe\u5f62\u7684\u6e05\u6670\u5ea6\uff0c\u652f\u6301\u4efb\u610f\u7f29\u653e</li> <li>\u8f7b\u91cf\u7ea7\u67b6\u6784 - \u4e13\u6ce8\u4e8e\u52a8\u753b\u64ad\u653e\uff0c\u4ee3\u7801\u7b80\u6d01\u9ad8\u6548</li> </ul>"},{"location":"#_3","title":"\u6280\u672f\u9650\u5236","text":"<ul> <li>\u4e0d\u652f\u6301\u4ea4\u4e92\u529f\u80fd - \u6309\u94ae\u70b9\u51fb\u3001\u9f20\u6807\u4e8b\u4ef6\u7b49\u4ea4\u4e92\u529f\u80fd\u65e0\u6cd5\u4f7f\u7528</li> <li>\u65e0 ActionScript \u89e3\u6790 - \u4e0d\u5305\u542b AS \u865a\u62df\u673a\u6216\u89e3\u6790\u5668</li> <li>\u989c\u8272\u7a7a\u95f4\u9650\u5236 - \u989c\u8272\u8f6c\u6362\u6ee4\u955c\u5b58\u5728\u989c\u8272\u7a7a\u95f4\u8f6c\u6362\u95ee\u9898</li> <li>\u529f\u80fd\u4e13\u6ce8 - \u4e13\u6ce8\u4e8e\u52a8\u753b\u64ad\u653e\uff0c\u4e0d\u652f\u6301\u58f0\u97f3\u3001\u89c6\u9891\u7b49\u591a\u5a92\u4f53\u5143\u7d20</li> </ul>"},{"location":"#_4","title":"\u7cfb\u7edf\u8981\u6c42","text":"<ul> <li>Godot \u5f15\u64ce: 4.3 \u6216\u66f4\u9ad8\u7248\u672c\uff08\u63a8\u8350 4.4.1\uff09</li> <li>.NET \u8fd0\u884c\u65f6: 8.0 \u6216\u66f4\u9ad8\u7248\u672c</li> <li>\u9879\u76ee\u7c7b\u578b: .NET \u7248\u672c\u7684\u9879\u76ee</li> </ul>"},{"location":"#_5","title":"\u5feb\u901f\u5bfc\u822a","text":"<ul> <li>\u5b89\u88c5\u6307\u5357 - \u5b8c\u6574\u7684\u5b89\u88c5\u548c\u914d\u7f6e\u6b65\u9aa4</li> <li>\u57fa\u7840\u4f7f\u7528 - \u5feb\u901f\u4e0a\u624b\u6307\u5357</li> <li>GDScript \u8c03\u7528 - \u7eaf GDScript \u4f7f\u7528\u65b9\u6848</li> <li>API \u6982\u89c8 - api\u6982\u89c8<ul> <li>C# API</li> <li>GDScript API</li> </ul> </li> </ul>"},{"location":"#_6","title":"\u9002\u7528\u573a\u666f","text":"<p>Godot-SWF \u63d2\u4ef6\u7279\u522b\u9002\u5408\u4ee5\u4e0b\u573a\u666f\uff1a - \u5c06\u73b0\u6709\u7684 Flash \u52a8\u753b\u8d44\u6e90\u8fc1\u79fb\u5230 Godot \u9879\u76ee - \u9700\u8981\u5728\u6e38\u620f\u4e2d\u64ad\u653e\u590d\u6742\u7684\u77e2\u91cf\u52a8\u753b - \u5bf9\u52a8\u753b\u8d28\u91cf\u6709\u8f83\u9ad8\u8981\u6c42\uff0c\u9700\u8981\u4fdd\u6301\u77e2\u91cf\u6e05\u6670\u5ea6 - \u9879\u76ee\u5df2\u4f7f\u7528 .NET \u7248\u672c\u7684 Godot \u5f15\u64ce</p>"},{"location":"#_7","title":"\u4ef7\u683c\u4e0e\u6388\u6743","text":"<p>Godot-SWF \u4e3a\u5546\u4e1a\u63d2\u4ef6\uff0c\u5f53\u524d\u552e\u4ef7\uff1a\uffe530.00</p> <p>\u8d2d\u4e70\u540e\u60a8\u5c06\u83b7\u5f97\uff1a</p> <ul> <li>\u5b8c\u6574\u7684\u63d2\u4ef6\u6587\u4ef6\u5305</li> <li>\u6280\u672f\u652f\u6301\u548c\u66f4\u65b0\u670d\u52a1</li> <li>\u5546\u4e1a\u4f7f\u7528\u6388\u6743</li> </ul>"},{"location":"about/","title":"\u5173\u4e8e Godot-SWF","text":""},{"location":"about/#_1","title":"\u9879\u76ee\u4fe1\u606f","text":"<p>Godot-SWF \u662f\u4e00\u4e2a\u4e13\u4e3a Godot \u5f15\u64ce\u8bbe\u8ba1\u7684\u5546\u4e1a\u63d2\u4ef6\uff0c\u4e13\u6ce8\u4e8e\u63d0\u4f9b\u9ad8\u6027\u80fd\u7684 SWF \u52a8\u753b\u64ad\u653e\u89e3\u51b3\u65b9\u6848\u3002</p>"},{"location":"about/#_2","title":"\u5f00\u53d1\u7406\u5ff5","text":"<p>\u672c\u63d2\u4ef6\u7684\u8bbe\u8ba1\u7406\u5ff5\u662f</p> <ul> <li> <p>\u4e13\u6ce8\u6838\u5fc3\u529f\u80fd - \u4e13\u6ce8\u4e8e\u52a8\u753b\u64ad\u653e\uff0c\u4e0d\u505a\u5927\u800c\u5168\u7684\u89e3\u51b3\u65b9\u6848</p> </li> <li> <p>\u6027\u80fd\u4f18\u5148 - \u91c7\u7528\u9ad8\u6548\u7684\u6e32\u67d3\u65b9\u6848\uff0c\u786e\u4fdd\u8fd0\u884c\u65f6\u6027\u80fd</p> </li> <li> <p>\u6613\u4e8e\u96c6\u6210 - \u63d0\u4f9b\u7b80\u6d01\u7684 API\uff0c\u4fbf\u4e8e\u5feb\u901f\u96c6\u6210\u5230\u9879\u76ee\u4e2d</p> </li> <li> <p>\u8bda\u5b9e\u900f\u660e - \u660e\u786e\u8bf4\u660e\u529f\u80fd\u9650\u5236\uff0c\u907f\u514d\u7528\u6237\u8bef\u89e3</p> </li> </ul>"},{"location":"about/#_3","title":"\u6280\u672f\u7279\u70b9","text":""},{"location":"about/#_4","title":"\u67b6\u6784\u4f18\u52bf","text":"<ul> <li>\u57fa\u4e8e Godot 4.x \u7684 .NET \u67b6\u6784</li> <li>\u4f7f\u7528 Rendering Server \u76f4\u63a5\u6e32\u67d3</li> <li>\u7eaf\u8fd0\u884c\u65f6\u89e3\u6790\uff0c\u65e0\u9700\u5bfc\u5165\u8fc7\u7a0b</li> <li>\u652f\u6301 C# \u548c GDScript \u53cc\u8bed\u8a00\u8c03\u7528</li> </ul>"},{"location":"about/#_5","title":"\u6e32\u67d3\u65b9\u6848","text":"<p>\u91c7\u7528\u5b9e\u65f6\u77e2\u91cf\u56fe\u5f62\u6e32\u67d3\u6280\u672f\uff1a - \u4fdd\u6301\u77e2\u91cf\u56fe\u5f62\u7684\u6570\u5b66\u7cbe\u5ea6 - \u652f\u6301\u4efb\u610f\u7f29\u653e\u4e0d\u5931\u771f - \u9ad8\u6548\u7684\u56fe\u5f62\u8ba1\u7b97\u548c\u6e32\u67d3</p>"},{"location":"about/#_6","title":"\u7248\u672c\u5386\u53f2","text":""},{"location":"about/#_7","title":"\u5f53\u524d\u7248\u672c","text":"<ul> <li>\u7a33\u5b9a\u7248\u53d1\u5e03</li> <li>\u652f\u6301 Godot 4.3+ .NET \u7248\u672c</li> <li>\u57fa\u7840\u52a8\u753b\u64ad\u653e\u529f\u80fd\u5b8c\u5584</li> </ul>"},{"location":"about/#_8","title":"\u672a\u6765\u89c4\u5212","text":"<ul> <li>\u6027\u80fd\u4f18\u5316\u548c\u7a33\u5b9a\u6027\u63d0\u5347</li> <li>\u589e\u52a0\u7ec6\u7c92\u5ea6\u66f4\u7cbe\u7ec6\u7684\u52a8\u753b\u63a7\u5236api</li> <li>\u6539\u8fdb\u5f00\u53d1\u5de5\u5177\u94fe</li> </ul>"},{"location":"about/#_9","title":"\u6280\u672f\u652f\u6301","text":""},{"location":"about/#_10","title":"\u8d2d\u4e70\u6e20\u9053","text":"<p>\u672c\u63d2\u4ef6\u4e3a\u5546\u4e1a\u4ea7\u54c1\uff0c\u53ef\u901a\u8fc7\u7231\u53d1\u7535\u8d2d\u4e70\u3002</p>"},{"location":"about/#_11","title":"\u6280\u672f\u652f\u6301\u670d\u52a1","text":"<p>\u8d2d\u4e70\u540e\u7528\u6237\u53ef\u83b7\u5f97\uff1a</p> <ul> <li>\u5b89\u88c5\u548c\u914d\u7f6e\u652f\u6301</li> <li>\u57fa\u7840\u4f7f\u7528\u95ee\u9898\u89e3\u7b54</li> <li>bug \u4fee\u590d\u548c\u6280\u672f\u66f4\u65b0</li> </ul>"},{"location":"about/#_12","title":"\u95ee\u9898\u53cd\u9988","text":"<p>\u9047\u5230\u95ee\u9898\u65f6\uff0c\u8bf7\u63d0\u4f9b\uff1a</p> <ol> <li>Godot \u7248\u672c\u4fe1\u606f</li> <li>.NET \u8fd0\u884c\u65f6\u7248\u672c</li> <li>\u8be6\u7ec6\u7684\u9519\u8bef\u63cf\u8ff0</li> <li>\u76f8\u5173\u7684\u4ee3\u7801\u793a\u4f8b</li> </ol>"},{"location":"about/#_13","title":"\u6388\u6743\u534f\u8bae","text":"<p>Godot-SWF \u91c7\u7528\u5546\u4e1a\u6388\u6743\u534f\u8bae\uff1a</p> <ul> <li>\u5355\u5f00\u53d1\u8005\u6388\u6743</li> <li>\u53ef\u7528\u4e8e\u5546\u4e1a\u9879\u76ee</li> <li>\u5305\u542b\u7248\u672c\u66f4\u65b0\u670d\u52a1</li> <li>\u5177\u4f53\u6761\u6b3e\u89c1\u8d2d\u4e70\u534f\u8bae</li> </ul>"},{"location":"about/#_14","title":"\u514d\u8d23\u58f0\u660e","text":"<p>\u672c\u63d2\u4ef6\u6309\"\u73b0\u72b6\"\u63d0\u4f9b\uff0c\u4e0d\u63d0\u4f9b\u4efb\u4f55\u660e\u793a\u6216\u6697\u793a\u7684\u62c5\u4fdd\u3002\u7528\u6237\u9700\u81ea\u884c\u627f\u62c5\u4f7f\u7528\u98ce\u9669\u3002</p> <p>\u5bf9\u4e8e\u56e0\u4f7f\u7528\u672c\u63d2\u4ef6\u800c\u5bfc\u81f4\u7684\u4efb\u4f55\u76f4\u63a5\u6216\u95f4\u63a5\u635f\u5931\uff0c\u5f00\u53d1\u8005\u4e0d\u627f\u62c5\u4efb\u4f55\u8d23\u4efb\u3002</p>"},{"location":"api/overview/","title":"API \u6982\u89c8","text":"<p>Godot-SWF \u63d0\u4f9b\u591a\u5c42\u6b21\u7684 API \u8bbe\u8ba1\uff0c\u6ee1\u8db3\u4e0d\u540c\u7528\u6237\u7684\u9700\u6c42\u3002\u4ece\u9ad8\u6027\u80fd\u7684\u5e95\u5c42\u63a5\u53e3\u5230\u6613\u7528\u7684\u9ad8\u7ea7\u5c01\u88c5\uff0c\u60a8\u53ef\u4ee5\u6839\u636e\u9879\u76ee\u9700\u6c42\u9009\u62e9\u5408\u9002\u7684 API \u5c42\u7ea7\u3002</p>"},{"location":"api/overview/#api_1","title":"API \u5c42\u7ea7\u7ed3\u6784","text":""},{"location":"api/overview/#_1","title":"\u67b6\u6784\u8bf4\u660e","text":""},{"location":"api/overview/#_2","title":"\u5404\u5c42\u7ea7\u8bf4\u660e","text":""},{"location":"api/overview/#1-api","title":"1. \u9ad8\u7ea7 API (\u63a8\u8350)","text":"<p>\u9762\u5411\u5bf9\u8c61\u8bbe\u8ba1\uff0c\u76f4\u89c2\u6613\u7528</p>"},{"location":"api/overview/#gdscript-swf_animation","title":"GDScript: <code>swf_animation</code>","text":"<pre><code>var anim = swf_player.create_anim(256)\nanim.is_looping = true\nanim.speed_scale = 1.5\nanim.play()\nanim.animation_finished.connect(_on_finished)\n</code></pre>"},{"location":"api/overview/#c-swfanimation","title":"C#: <code>SwfAnimation</code>","text":"<pre><code>var anim = new SwfAnimation(aid, swf);\nanim.IsLooping = true;\nanim.SpeedScale = 1.5f;\nanim.Play();\nanim.AnimationFinished += OnFinished;\n</code></pre> <p>\u9002\u7528\u573a\u666f\uff1a - \u5927\u591a\u6570\u6e38\u620f\u5f00\u53d1\u573a\u666f - \u9700\u8981\u76f4\u89c2\u7684\u52a8\u753b\u63a7\u5236 - \u5e0c\u671b\u51cf\u5c11\u5e95\u5c42\u7ec6\u8282</p>"},{"location":"api/overview/#2-gdscript","title":"2. \u6865\u63a5\u5c42 (GDScript)","text":"<p>GDScript \u4e13\u7528\u6865\u63a5</p>"},{"location":"api/overview/#godot_swf_gds_bridge","title":"<code>godot_swf_gds_bridge</code>","text":"<pre><code>var player = godot_swf_gds_bridge.new()\nplayer.class_init(\"res://anim.swf\")\nvar aid = player.create_anim_aid(256)\nplayer.play(aid)\n</code></pre> <p>\u9002\u7528\u573a\u666f\uff1a - \u7eaf GDScript \u9879\u76ee - \u9700\u8981\u76f4\u63a5\u63a7\u5236 Aid \u7684\u60c5\u51b5 - \u8fc7\u6e21\u4ece\u65e7\u7248\u672c\u8fc1\u79fb</p>"},{"location":"api/overview/#3-c","title":"3. \u6838\u5fc3\u5c42 (C#)","text":"<p>\u9ad8\u6027\u80fd\u5e95\u5c42\u63a5\u53e3</p>"},{"location":"api/overview/#swf","title":"<code>SWF</code> \u7c7b","text":"<pre><code>var swf = new SWF(\"res://anim.swf\", this);\nswf.Parse();\nvar aid = swf.CreateAnimAid(256);\nswf.PlayAnim(aid);\n</code></pre> <p>\u9002\u7528\u573a\u666f\uff1a - \u6027\u80fd\u5173\u952e\u7684\u573a\u666f - \u9700\u8981\u6700\u5927\u63a7\u5236\u6743\u7684\u5e94\u7528 - C# \u4e13\u7528\u9879\u76ee</p>"},{"location":"api/overview/#_3","title":"\u9009\u62e9\u6307\u5357","text":""},{"location":"api/overview/#api_2","title":"\u65b0\u9879\u76ee\u63a8\u8350\u4f7f\u7528\u9ad8\u7ea7 API","text":"\u9700\u6c42 \u63a8\u8350 API \u539f\u56e0 \u5feb\u901f\u5f00\u53d1 <code>swf_animation</code> / <code>SwfAnimation</code> \u76f4\u89c2\u6613\u7528\uff0c\u51cf\u5c11\u4ee3\u7801\u91cf \u6027\u80fd\u4f18\u5148 <code>SWF</code> (C#) \u76f4\u63a5\u63a7\u5236\uff0c\u65e0\u6865\u63a5\u5f00\u9500 GDScript \u9879\u76ee <code>swf_animation</code> \u539f\u751f GDScript \u4f53\u9a8c C# \u9879\u76ee <code>SwfAnimation</code> \u7c7b\u578b\u5b89\u5168\uff0c\u6027\u80fd\u826f\u597d"},{"location":"api/overview/#_4","title":"\u8fc1\u79fb\u6307\u5357","text":"<p>\u4ece\u65e7\u7248\u672c\u8fc1\u79fb\uff1a</p> <pre><code># \u65e7\u7248\u672c (\u4e0d\u63a8\u8350)\nvar aid = swf.play(256)\nswf.stop(aid)\n\n# \u65b0\u7248\u672c (\u63a8\u8350)\nvar anim = swf.create_anim(256)\nanim.play()\nanim.stop()\n</code></pre>"},{"location":"api/overview/#_5","title":"\u4fe1\u53f7\u4e0e\u4e8b\u4ef6\u7cfb\u7edf","text":"<p>\u6240\u6709 API \u5c42\u7ea7\u90fd\u652f\u6301\u5b8c\u6574\u7684\u4fe1\u53f7/\u4e8b\u4ef6\u7cfb\u7edf\uff1a</p> \u5c42\u7ea7 \u52a8\u753b\u5b8c\u6210\u4fe1\u53f7 \u89e3\u6790\u5b8c\u6210\u4fe1\u53f7 \u9ad8\u7ea7 API <code>animation_finished()</code> \u901a\u8fc7\u6865\u63a5\u5c42 \u6865\u63a5\u5c42 <code>animation_finished(id)</code> <code>parse_finished()</code> \u6838\u5fc3\u5c42 <code>AnimationFinished</code> (Aid) <code>ParseFinished</code>"},{"location":"api/overview/#_6","title":"\u6027\u80fd\u7279\u6027","text":""},{"location":"api/overview/#_7","title":"\u6e32\u67d3\u6027\u80fd","text":"<ul> <li>\u6240\u6709\u5c42\u7ea7\u90fd\u4f7f\u7528\u76f8\u540c\u7684 Rendering Server \u6e32\u67d3</li> <li>\u77e2\u91cf\u56fe\u5f62\u5b9e\u65f6\u6e32\u67d3\uff0c\u652f\u6301\u4efb\u610f\u7f29\u653e</li> <li>\u51e0\u4e4e\u4e0d\u4f9d\u8d56 Godot \u8282\u70b9\u6811</li> </ul>"},{"location":"api/overview/#_8","title":"\u5185\u5b58\u4f7f\u7528","text":"<ul> <li>\u89e3\u6790\u540e\u7684 SWF \u6570\u636e\u5171\u4eab across \u52a8\u753b\u5b9e\u4f8b</li> <li>\u53ca\u65f6\u505c\u6b62\u52a8\u753b\u53ef\u4ee5\u91ca\u653e\u8d44\u6e90</li> <li><code>Clear()</code> \u65b9\u6cd5\u53ef\u4ee5\u5b8c\u5168\u91cd\u7f6e\u72b6\u6001</li> </ul>"},{"location":"api/overview/#_9","title":"\u8be6\u7ec6\u6587\u6863","text":"<ul> <li>SWF \u6838\u5fc3\u7c7b - C# \u5e95\u5c42 API</li> <li>godot_swf_gds_bridge - GDScript \u6865\u63a5 API  </li> <li>swf_animation - GDScript \u9ad8\u7ea7 API</li> <li>SwfAnimation - C# \u9ad8\u7ea7 API ```</li> </ul>"},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SWF/","title":"C# \u539f\u751f API","text":""},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SWF/#swf","title":"SWF \u7c7b","text":""},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SWF/#_1","title":"\u4e8b\u4ef6","text":"<p>AnimationFinished <pre><code>public delegate void AnimationFinishedEventHandler(Aid aid);\npublic AnimationFinishedEventHandler AnimationFinished;\n</code></pre> \u5f53\u52a8\u753b\u64ad\u653e\u5b8c\u6210\u65f6\u89e6\u53d1\u3002\u53c2\u6570\u4e3a\u5b8c\u6210\u7684\u52a8\u753b\u6807\u8bc6\u7b26\u3002\uff08\u6b64\u4e8b\u4ef6\u4ec5\u7528\u4e8e\u5185\u90e8\u4f7f\u7528\uff0c\u666e\u901a\u7528\u6237\u8bf7\u4f7f\u7528SwfAnimation\u7684AnimationFinished\u4e8b\u4ef6\u4ee3\u66ff\uff09</p> <p>ParseFinished <pre><code>public delegate void ParseFinishedEventHandler();\npublic ParseFinishedEventHandler ParseFinished;\n</code></pre> \u5f53 SWF \u6587\u4ef6\u89e3\u6790\u5b8c\u6210\u65f6\u89e6\u53d1\u3002</p>"},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SWF/#_2","title":"\u6784\u9020\u51fd\u6570","text":"<p><pre><code>SWF(string swfPath, CanvasItem root)\n</code></pre> - <code>swfPath</code>: SWF \u6587\u4ef6\u8def\u5f84 - <code>root</code>: \u6e32\u67d3\u6839\u8282\u70b9</p>"},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SWF/#_3","title":"\u65b9\u6cd5","text":"<p>Parse <pre><code>void Parse()\n</code></pre> \u5f00\u59cb \u89e3\u6790 SWF \u6587\u4ef6\uff0c\u5fc5\u987b\u5728\u64ad\u653e\u524d\u8c03\u7528\u3002\u8bf7\u6ce8\u610f\uff0c\u6b64\u65b9\u6cd5\u662f\u5f02\u6b65\u7684\uff0c\u8c03\u7528\u540e\u4f1a\u7acb\u5373\u8fd4\u56de\uff0c\u4f46\u89e3\u6790\u53ef\u80fd\u9700\u8981\u51e0\u79d2\u949f\u65f6\u95f4\u3002\u8bf7\u5728 <code>ParseFinished</code> \u4e8b\u4ef6\uff08\u4fe1\u53f7\uff09\u4e2d\u5904\u7406\u89e3\u6790\u5b8c\u6210\u540e\u7684\u903b\u8f91\u3002</p> <p>CreateAnim <pre><code>public SwfAnimation CreateAnim(int shapeID, float playScale = 1, Transform2D transform = default, Color color = default, bool loop = false)\n</code></pre> \u521b\u5efa\u52a8\u753b\uff0c\u8fd4\u56deSwfAnimation\u5b9e\u4f8b\u3002\u53ef\u4ee5\u6307\u5b9a\u64ad\u653e\u901f\u5ea6\u3001\u53d8\u6362\u77e9\u9635\u3001\u989c\u8272\u3001\u662f\u5426\u5faa\u73af\u64ad\u653e\u3002</p> <p>StopAll <pre><code>void StopAll()\n</code></pre> \u505c\u6b62\u6240\u6709\u52a8\u753b\u3002</p> <p>CreateAnimAid <pre><code>Aid CreateAnimAid(int shapeID, float playScale = 1, Transform2D transform = default, Color color = default, bool loop = false)\n</code></pre> \u521b\u5efa\u52a8\u753b\uff0c\u8fd4\u56de\u52a8\u753b\u6807\u8bc6\u7b26\u3002\u53ef\u4ee5\u6307\u5b9a\u64ad\u653e\u901f\u5ea6\u3001\u53d8\u6362\u77e9\u9635\u3001\u989c\u8272\u3001\u662f\u5426\u5faa\u73af\u64ad\u653e\u3002\u6b64\u65b9\u6cd5\u4e3a\u5185\u90e8\u65b9\u6cd5\uff0c\u5efa\u8bae\u4f7f\u7528 <code>CreateAnim</code> \u65b9\u6cd5\u521b\u5efa\u52a8\u753b\u3002</p> <p>GetParseProgress <pre><code>float GetParseProgress()\n</code></pre> \u83b7\u53d6\u89e3\u6790\u8fdb\u5ea6\u3002\u8fd4\u56de\u503c\u8303\u56f4\u4e3a 0.0-1.0\uff0c\u8868\u793a\u5df2\u89e3\u6790\u7684\u6bd4\u4f8b\u3002\u6ce8\u610f\uff0c\u6b64\u65b9\u6cd5\u4ec5\u8fd4\u56de\u5df2\u89e3\u6790\u7684\u6bd4\u4f8b\uff0c\u5e76\u4e0d\u8868\u793a\u89e3\u6790\u662f\u5426\u5b8c\u6210\u3002\u82e5\u8981\u68c0\u67e5\u89e3\u6790\u662f\u5426\u5b8c\u6210\uff0c\u8bf7\u4f7f\u7528 <code>ParseFinished</code> \u4e8b\u4ef6\uff08\u4fe1\u53f7\uff09\u3002</p> <p>Clear <pre><code>void Clear()\n</code></pre> \u6e05\u7406\u6240\u6709\u52a8\u753b\u8d44\u6e90\u3002</p>"},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SWF/#_4","title":"\u5185\u90e8\u65b9\u6cd5","text":"<p>\u56e0\u6865\u63a5\u7c7b\u9700\u8981\u8c03\u7528\u6240\u4ee5\u4f1a\u5411\u5916\u66b4\u9732\uff0c\u666e\u901a\u7528\u6237\u4e0d\u5efa\u8bae\u8c03\u7528\uff0c\u76f8\u5e94\u529f\u80fd\u5728SwfAnimation\u4e2d\u5747\u6709\u5b9e\u73b0</p> <p>PlayAnim <pre><code>void PlayAnim(Aid aid)\n</code></pre> \u64ad\u653e\u6307\u5b9a\u52a8\u753b\u3002</p> <p>Stop <pre><code>void Stop(Aid aid)\n</code></pre> \u505c\u6b62\u6307\u5b9a\u52a8\u753b\u3002</p> <p>Pause <pre><code>void Pause(Aid aid)\n</code></pre> \u6682\u505c\u6307\u5b9a\u52a8\u753b\u3002</p> <p>Continue <pre><code>void Continue(Aid aid)\n</code></pre> \u7ee7\u7eed\u64ad\u653e\u6682\u505c\u7684\u52a8\u753b\u3002</p> <p>SetTransform <pre><code>void SetTransform(Aid aid, Transform2D transform)\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u7684\u53d8\u6362\u77e9\u9635\u3002</p> <p>SetColor <pre><code>void SetColor(Aid aid, Color color)\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u989c\u8272\u3002</p> <p>SetVisible <pre><code>void SetVisible(Aid aid, bool visible)\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u53ef\u89c1\u6027\u3002</p> <p>SetIsLooping <pre><code>void SetIsLooping(Aid aid, bool isLooping)\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u662f\u5426\u5faa\u73af\u64ad\u653e\u3002</p> <p>IsFinished <pre><code>bool IsFinished(Aid aid)\n</code></pre> \u68c0\u67e5\u52a8\u753b\u662f\u5426\u64ad\u653e\u5b8c\u6210\u3002</p>"},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SwfAnimation/","title":"C# \u539f\u751f\u52a8\u753b API","text":""},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SwfAnimation/#swfanimation","title":"SwfAnimation \u7c7b","text":"<p>\u4e3aC#\u7528\u6237\u63d0\u4f9b\u76f4\u63a5\u7684\u52a8\u753b\u63a7\u5236\u63a5\u53e3\uff0c\u65e0\u9700\u6865\u63a5\u5c42\uff0c\u6027\u80fd\u66f4\u4f18\u3002</p>"},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SwfAnimation/#_1","title":"\u4e8b\u4ef6","text":"<p>AnimationFinished</p> <pre><code>public delegate void AnimationFinishedEventHandler();\npublic AnimationFinishedEventHandler AnimationFinished;\n</code></pre> <p>\u52a8\u753b\u64ad\u653e\u5b8c\u6210\u65f6\u89e6\u53d1\u3002</p>"},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SwfAnimation/#_2","title":"\u5c5e\u6027","text":"<p><pre><code>Transform2D Transform\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u7684\u53d8\u6362\u77e9\u9635\u3002</p> <p><pre><code>Color Color\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u7684\u989c\u8272\u3002</p> <p><pre><code>bool Visible\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u7684\u53ef\u89c1\u6027\u3002</p> <p><pre><code>float SpeedScale\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u7684\u64ad\u653e\u901f\u5ea6\u500d\u6570\u3002</p> <p><pre><code>bool IsLooping\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u662f\u5426\u5faa\u73af\u64ad\u653e\u3002</p> <p><pre><code>bool IsFinished\n</code></pre> \u83b7\u53d6\u52a8\u753b\u662f\u5426\u5df2\u5b8c\u6210\u64ad\u653e\u3002</p>"},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SwfAnimation/#_3","title":"\u4e3b\u8981\u65b9\u6cd5","text":"<p>\u6784\u9020\u51fd\u6570 <pre><code>SwfAnimation(Aid aid, SWF swf)\n</code></pre> \u521b\u5efa\u52a8\u753b\u5b9e\u4f8b\u3002</p> <p>\u53c2\u6570: - <code>aid</code>: \u52a8\u753b\u6807\u8bc6\u7b26 - <code>swf</code>: SWF\u5b9e\u4f8b</p> <p>Play <pre><code>void Play()\n</code></pre> \u5f00\u59cb\u64ad\u653e\u52a8\u753b\u3002</p> <p>Pause <pre><code>void Pause()\n</code></pre> \u6682\u505c\u52a8\u753b\u64ad\u653e\u3002</p> <p>Continue <pre><code>void Continue()\n</code></pre> \u7ee7\u7eed\u64ad\u653e\u6682\u505c\u7684\u52a8\u753b\u3002</p> <p>Stop <pre><code>void Stop()\n</code></pre> \u505c\u6b62\u52a8\u753b\u64ad\u653e\u3002</p> <p>PauseAndPlayChildren <pre><code>void PauseAndPlayChildren()\n</code></pre> \u6682\u505c\u5f53\u524d\u52a8\u753b\u5e76\u64ad\u653e\u5b50\u52a8\u753b\u3002</p>"},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SwfAnimation/#_4","title":"\u4f7f\u7528\u793a\u4f8b","text":"<pre><code>// \u521b\u5efa\u52a8\u753b\u5b9e\u4f8b\n// \u53ef\u4ee5\uff1a\n//var aid = _swf.CreateAnimAid(256);\n//var anim = new SwfAnimation(aid, _swf);\n// \u4e5f\u53ef\u4ee5\uff1a\nvar anim = _swf.CreateAnim(256); // \u63a8\u8350\n\n// \u8bbe\u7f6e\u5c5e\u6027\nanim.Transform = Transform2D.Identity.Scaled(new Vector2(0.5f, 0.5f));\nanim.Color = new Color(1, 0.8f, 0.8f);\nanim.SpeedScale = 1.5f;\nanim.IsLooping = true;\n\n// \u64ad\u653e\u63a7\u5236\nanim.AnimationFinished += OnAnimationFinished;\n// \u4fe1\u53f7\u8981\u7ed1\u5b9a\u5728Play\u524d\u9762\uff0c\u907f\u514d\u56e0\u4e3a\u52a8\u753b\u592a\u77ed\u800c\u5bfc\u81f4\u4e8b\u4ef6\u672a\u89e6\u53d1\nanim.Play();\n\n\n// \u72b6\u6001\u67e5\u8be2\n// \u6ce8\u610f\uff1aIsFinished\u662f\u53ea\u8bfb\u5c5e\u6027\uff0c\u4e0d\u80fd\u8d4b\u503c\uff0c\u4e0d\u63a8\u8350\u6bcf\u5e27\u90fd\u67e5\u8be2\nif (anim.IsFinished)\n{\n    GD.Print(\"\u52a8\u753b\u5df2\u5b8c\u6210\");\n}\n</code></pre>"},{"location":"api/CSharp%E5%8E%9F%E7%94%9FAPI/SwfAnimation/#_5","title":"\u6027\u80fd\u63d0\u793a","text":"<ol> <li> <p>\u76f4\u63a5\u4f7f\u7528C# API <pre><code>// \u63a8\u8350\uff1a\u76f4\u63a5\u4f7f\u7528C# API\uff0c\u6027\u80fd\u6700\u4f73\nvar anim = _swf.CreateAnim(256);\n</code></pre></p> </li> <li> <p>\u4e8b\u4ef6\u5904\u7406 <pre><code>// \u6b63\u786e\u7684\u4e8b\u4ef6\u8ba2\u9605\nanim.AnimationFinished += OnFinished;\n// \u53ca\u65f6\u53d6\u6d88\u8ba2\u9605\nanim.AnimationFinished -= OnFinished;\n</code></pre></p> </li> <li> <p>\u8d44\u6e90\u7ba1\u7406 <pre><code>// \u53ca\u65f6\u505c\u6b62\u4e0d\u518d\u9700\u8981\u7684\u52a8\u753b\nanim.Stop();\n</code></pre></p> </li> </ol>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/godot_swf_gds_bridge/","title":"GDScript \u6865\u63a5 API","text":""},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/godot_swf_gds_bridge/#godot_swf_gds_bridge","title":"godot_swf_gds_bridge \u7c7b","text":"<p>Node2D\u8282\u70b9\uff0c\u8d1f\u8d23\u52a0\u8f7dSWF\u6587\u4ef6\u5e76\u521b\u5efa\u52a8\u753b\u5bf9\u8c61\uff0c\u63d0\u4f9b\u9762\u5411\u5bf9\u8c61\u7684API\u7ba1\u7406\u52a8\u753b\u64ad\u653e\u3002</p>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/godot_swf_gds_bridge/#_1","title":"\u4fe1\u53f7","text":"<ul> <li><code>animation_finished(id: int)</code> - \u52a8\u753b\u64ad\u653e\u5b8c\u6210\u65f6\u89e6\u53d1</li> <li><code>parse_finished()</code> - SWF\u6587\u4ef6\u89e3\u6790\u5b8c\u6210\u65f6\u89e6\u53d1</li> </ul>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/godot_swf_gds_bridge/#_2","title":"\u521d\u59cb\u5316","text":"<p><pre><code>func class_init(path: String) -&gt; void\n</code></pre> \u521d\u59cb\u5316\u6865\u63a5\u7c7b\u5e76\u52a0\u8f7dSWF\u6587\u4ef6\u3002</p> <p>\u53c2\u6570: - <code>path</code>: SWF\u6587\u4ef6\u8def\u5f84</p>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/godot_swf_gds_bridge/#_3","title":"\u4e3b\u8981\u65b9\u6cd5","text":"<p>parse <pre><code>func parse() -&gt; void\n</code></pre> \u5f00\u59cb\u5f02\u6b65\u89e3\u6790SWF\u6587\u4ef6\u3002\u5fc5\u987b\u5728\u521b\u5efa\u52a8\u753b\u524d\u8c03\u7528\u3002\u6b64\u51fd\u6570\u4f1a\u5efa\u7acb\u4e00\u4e2a\u5b50\u7ebf\u7a0b\uff0c\u89e3\u6790\u5b8c\u6210\u540e\u4f1a\u89e6\u53d1<code>parse_finished</code>\u4fe1\u53f7\u3002\u81ea\u8eab\u7acb\u5373\u8fd4\u56de\uff0c\u89e3\u6790\u8fc7\u7a0b\u53ef\u80fd\u9700\u8981\u8f83\u957f\u65f6\u95f4\u3002</p> <p>create_anim <pre><code>func create_anim(shape_id: int) -&gt; swf_animation\n</code></pre> \u521b\u5efa\u5e76\u8fd4\u56de\u52a8\u753b\u5bf9\u8c61\u3002</p> <p>stop_all <pre><code>func stop_all() -&gt; void\n</code></pre> \u505c\u6b62\u6240\u6709\u52a8\u753b\u3002\u8b66\u544a\uff1a\u6b64\u51fd\u6570\u6027\u80fd\u8f83\u5dee\uff0c\u4e00\u822c\u53ea\u5728clear()\u524d\u8c03\u7528\u3002\u505c\u6b62\u52a8\u753b\u8bf7\u4f7f\u7528swf_animation.stop()\u3002</p> <p>clear <pre><code>func clear() -&gt; void\n</code></pre> \u6e05\u9664\u6240\u6709\u52a8\u753b\u5bf9\u8c61\u3002\u4e00\u822c\u5728\u6e05\u7406swf\u6587\u4ef6\u5b9e\u4f8b\u65f6\u8c03\u7528\u3002</p>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/godot_swf_gds_bridge/#_4","title":"\u5185\u90e8\u65b9\u6cd5 (\u4e0d\u63a8\u8350\u76f4\u63a5\u4f7f\u7528)","text":"<p>create_anim_aid <pre><code>func create_anim_aid(shape_id: int) -&gt; int\n</code></pre> \u521b\u5efa\u52a8\u753b\u5e76\u8fd4\u56de\u5185\u90e8Aid\u3002\u4ec5\u4f9b\u5185\u90e8\u4f7f\u7528\u3002</p> <p>play <pre><code>func play(aid: int) -&gt; void\n</code></pre> \u64ad\u653e\u6307\u5b9aAid\u7684\u52a8\u753b\u3002\u4f7f\u7528swf_animation.play()\u66ff\u4ee3\u3002</p> <p>stop <pre><code>func stop(aid: int) -&gt; void\n</code></pre> \u505c\u6b62\u6307\u5b9aAid\u7684\u52a8\u753b\u3002\u4f7f\u7528swf_animation.stop()\u66ff\u4ee3\u3002</p> <p>pause <pre><code>func pause(aid: int) -&gt; void\n</code></pre> \u6682\u505c\u6307\u5b9aAid\u7684\u52a8\u753b\u3002\u4f7f\u7528swf_animation.pause()\u66ff\u4ee3\u3002</p> <p>continue_anim <pre><code>func continue_anim(aid: int) -&gt; void\n</code></pre> \u7ee7\u7eed\u64ad\u653e\u6307\u5b9aAid\u7684\u52a8\u753b\u3002\u4f7f\u7528swf_animation.continue_anim()\u66ff\u4ee3\u3002</p> <p>pause_and_play_children <pre><code>func pause_and_play_children(aid: int) -&gt; void\n</code></pre> \u6682\u505c\u5f53\u524d\u52a8\u753b\u5e76\u64ad\u653e\u5b50\u52a8\u753b\u3002\u4ec5\u4f9b\u5185\u90e8\u4f7f\u7528\u3002</p>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/godot_swf_gds_bridge/#_5","title":"\u5185\u90e8\u5c5e\u6027\u8bbe\u7f6e\u65b9\u6cd5 (\u4e0d\u63a8\u8350\u76f4\u63a5\u4f7f\u7528)","text":"<pre><code>func set_anim_transform(aid: int, anim_transform: Transform2D)\nfunc set_anim_color(aid: int, color: Color) \nfunc set_anim_visible(aid: int, anim_visible: bool)\nfunc set_anim_speed_scale(aid: int, speed_scale: float)\nfunc set_anim_is_looping(aid: int, is_looping: bool)\n</code></pre>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/godot_swf_gds_bridge/#_6","title":"\u72b6\u6001\u67e5\u8be2","text":"<p><pre><code>func is_finished(aid: int) -&gt; bool\n</code></pre> \u68c0\u67e5\u52a8\u753b\u662f\u5426\u5b8c\u6210\u3002</p> <p><pre><code>func get_parse_progress() -&gt; float\n</code></pre> \u83b7\u53d6\u89e3\u6790\u8fdb\u5ea6\u3002</p>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/godot_swf_gds_bridge/#_7","title":"\u4f7f\u7528\u793a\u4f8b","text":"<pre><code># \u521b\u5efa\u64ad\u653e\u5668\nvar player = godot_swf_gds_bridge.new()\nplayer.class_init(\"res://anim.swf\")\nadd_child(player)\n\n# \u7b49\u5f85\u89e3\u6790\u5b8c\u6210\nplayer.parse_finished.connect(_on_parse_finished)\n\nfunc _on_parse_finished():\n    # \u521b\u5efa\u52a8\u753b\n    var anim = player.create_anim(100)\n    anim.is_looping = true\n    anim.play()\n</code></pre>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/swf_animation/","title":"GDScript \u52a8\u753b API","text":""},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/swf_animation/#swf_animation","title":"swf_animation \u7c7b","text":"<p>\u5c01\u88c5\u5355\u4e2a\u52a8\u753b\u5b9e\u4f8b\u7684\u6240\u6709\u64cd\u4f5c\uff0c\u63d0\u4f9b\u9762\u5411\u5bf9\u8c61\u7684\u52a8\u753b\u63a7\u5236\u63a5\u53e3\u3002</p>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/swf_animation/#_1","title":"\u4fe1\u53f7","text":"<ul> <li><code>animation_finished()</code> - \u52a8\u753b\u64ad\u653e\u5b8c\u6210\u65f6\u89e6\u53d1</li> </ul>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/swf_animation/#setter","title":"\u5c5e\u6027 (setter\u65b9\u6cd5)","text":"<p><pre><code>var transform: Transform2D\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u7684\u53d8\u6362\u77e9\u9635\u3002</p> <p><pre><code>var color: Color\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u7684\u989c\u8272\u3002</p> <p><pre><code>var visible: bool\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u7684\u53ef\u89c1\u6027\u3002</p> <p><pre><code>var speed_scale: float\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u7684\u64ad\u653e\u901f\u5ea6\u500d\u6570\u3002</p> <p><pre><code>var is_looping: bool\n</code></pre> \u8bbe\u7f6e\u52a8\u753b\u662f\u5426\u5faa\u73af\u64ad\u653e\u3002</p>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/swf_animation/#_2","title":"\u4e3b\u8981\u65b9\u6cd5","text":"<p>class_init <pre><code>func class_init(aid: int, swf: godot_swf_gds_bridge) -&gt; void\n</code></pre> \u521d\u59cb\u5316\u52a8\u753b\u5bf9\u8c61\u3002\u7531<code>godot_swf_gds_bridge.create_anim()</code>\u81ea\u52a8\u8c03\u7528\u3002</p> <p>play <pre><code>func play() -&gt; void\n</code></pre> \u5f00\u59cb\u64ad\u653e\u52a8\u753b\u3002</p> <p>pause <pre><code>func pause() -&gt; void\n</code></pre> \u6682\u505c\u52a8\u753b\u64ad\u653e\u3002</p> <p>continue_anim <pre><code>func continue_anim() -&gt; void\n</code></pre> \u7ee7\u7eed\u64ad\u653e\u6682\u505c\u7684\u52a8\u753b\u3002</p> <p>stop <pre><code>func stop() -&gt; void\n</code></pre> \u505c\u6b62\u52a8\u753b\u64ad\u653e\u3002</p> <p>pause_and_play_children <pre><code>func pause_and_play_children() -&gt; void\n</code></pre> \u6682\u505c\u5f53\u524d\u52a8\u753b\u5e76\u64ad\u653e\u5b50\u52a8\u753b\u3002</p>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/swf_animation/#_3","title":"\u4f7f\u7528\u793a\u4f8b","text":"<pre><code># \u521b\u5efa\u52a8\u753b\u5bf9\u8c61\nvar anim = swf_player.create_anim(256)\n\n# \u8bbe\u7f6e\u5c5e\u6027\nanim.transform = Transform2D().scaled(Vector2(0.5, 0.5))\nanim.color = Color(1, 0.8, 0.8)\nanim.speed_scale = 1.5\nanim.is_looping = true\n\n# \u64ad\u653e\u63a7\u5236\nanim.play()\nanim.animation_finished.connect(_on_anim_done)\n\n# \u6682\u505c/\u7ee7\u7eed/\u505c\u6b62\nanim.pause()\nanim.continue_anim()\nanim.stop()\n</code></pre>"},{"location":"api/gds%E6%A1%A5%E6%8E%A5api/swf_animation/#_4","title":"\u6700\u4f73\u5b9e\u8df5","text":"<ol> <li> <p>\u5c5e\u6027\u8bbe\u7f6e\u5e94\u5728\u64ad\u653e\u524d <pre><code># \u63a8\u8350\uff1a\u5148\u8bbe\u7f6e\u5c5e\u6027\u518d\u64ad\u653e\nanim.is_looping = true\nanim.speed_scale = 1.0\nanim.play()\n</code></pre></p> </li> <li> <p>\u53ca\u65f6\u8fde\u63a5\u4fe1\u53f7 <pre><code># \u521b\u5efa\u540e\u7acb\u5373\u8fde\u63a5\u4fe1\u53f7\nanim.animation_finished.connect(_on_finished)\n</code></pre></p> </li> <li> <p>\u5408\u7406\u7ba1\u7406\u52a8\u753b\u751f\u547d\u5468\u671f <pre><code>func _exit_tree():\n    anim.stop()  # \u8282\u70b9\u9000\u51fa\u65f6\u505c\u6b62\u52a8\u753b\n</code></pre></p> </li> </ol>"},{"location":"gds/csharptogds/","title":"Csharptogds","text":""},{"location":"gds/csharptogds/#godot-script-gdscript","title":"Godot Script (GDScript) \u4f7f\u7528\u65b9\u6848","text":"<p>\u672c\u63d2\u4ef6\u53ef\u4ee5\u4e0d\u4f7f\u7528C#\u8c03\u7528\uff0c\u800c\u4f7f\u7528\u539f\u751f\u7684GDScript\u8bed\u8a00\u6765\u7f16\u5199Godot-SWF\u6e38\u620f\u3002</p>"},{"location":"gds/csharptogds/#_1","title":"\u5feb\u901f\u4f7f\u7528","text":""},{"location":"gds/csharptogds/#1","title":"1. \u57fa\u672c\u64ad\u653e\u8c03\u7528","text":"<p>\u4ee3\u7801\u5982\u4e0b: <pre><code>var swf_animation_player = godot_swf_gds_bridge.new()\nswf_animation_player.class_init()\nswf_animation_player.load_swf(\"res://test.swf\")\nadd_child(swf_animation_player)\nswf_animation_player.parse()\nswf_animation_player.scale /= 20.0\nswf_animation_player.play(52)\n</code></pre></p>"},{"location":"gds/csharptogds/#_2","title":"\u8fd0\u884c\u524d\u914d\u7f6e","text":"<p>1.\u4e0b\u8f7d\u89e3\u538bGodot-SWF\u63d2\u4ef6\uff0c\u786e\u4fdd\u6865\u63a5\u6587\u4ef6\u5b58\u5728\u3002</p> <p>2.\u786e\u4fddswf\u6587\u4ef6\u5b58\u5728(\"res://test.swf\")\u3002</p> <p>3.\u786e\u4fddswf_animation_player.play(52)\u4e2d\u768452\u662fswf\u6587\u4ef6\u4e2d\u52a8\u753b\u7684ID\u3002</p> <p>3.\u4f7f\u7528load\u2014\u2014swf\u51fd\u6570\u52a0\u8f7dswf\u6587\u4ef6\u3002swf_animation_player.class_init()\u51fd\u6570\u662f\u521d\u59cb\u5316\u51fd\u6570\uff0c\u5728\u4f7f\u7528\u4e4b\u524d\u987b\u8c03\u7528\u3002</p>"},{"location":"getting-started/setup/","title":"\u5b89\u88c5","text":""},{"location":"getting-started/setup/#_1","title":"\u5982\u4f55\u5feb\u901f\u5b89\u88c5","text":"<p>\u672c\u63d2\u4ef6\u4f7f\u7528C#\u7f16\u5199\uff0c\u540c\u65f6\uff0c\u4e3a\u4e86\u517c\u5bb9gds\u751f\u6001\uff0c\u672c\u63d2\u4ef6\u4e5f\u8bbe\u8ba1\u4e86gds\u7684birdge\u7c7b\u8fdb\u884c\u7b80\u5316\u8c03\u7528\u3002</p>"},{"location":"getting-started/setup/#1-godot","title":"1. \u5b89\u88c5Godot","text":"<ul> <li>\u5b89\u88c5Godot\u5f15\u64ce\uff0c\u7248\u672c\u8981\u6c42\u4e3a4.3\u53ca\u4ee5\u4e0a\uff08\u63a8\u83504.4.1\uff09\u3002\u8981\u6c42\u662f.Net\u7248\u672c\u3002</li> <li>\u4e0b\u8f7d.Net\u8fd0\u884c\u65f6\uff0c\u7248\u672c\u8981\u6c42\u4e3a8.0\u53ca\u4ee5\u4e0a\u3002\uff08\u63a8\u83508.0\uff09</li> </ul>"},{"location":"getting-started/setup/#2","title":"2. \u4e0b\u8f7d\u63d2\u4ef6","text":""},{"location":"getting-started/setup/#3","title":"3. \u5b89\u88c5\u63d2\u4ef6","text":"<p>\u4e0b\u8f7d\u5b8c\u6210\u540e\uff0c\u5c06\u63d2\u4ef6\u6587\u4ef6\u5939\u89e3\u538b\u5230Godot\u9879\u76ee\u7684\u6839\u76ee\u5f55\u4e0b\u3002\u4f60\u7684\u9879\u76ee\u7ed3\u6784\u5e94\u8be5\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a</p> <pre><code>project_root/\n\u251c\u2500\u2500 Godot-SWF/\n\u2502   \u251c\u2500\u2500 bridge/\n\u2502   |   \u251c\u2500\u2500 GodotSwfNetBridge.cs\n\u2502   |   \u2514\u2500\u2500 godot_swf_gds_bridge.gdscript\n\u2502   \u251c\u2500\u2500 dlls/\n\u2502   \u2502   \u251c\u2500\u2500 Godot SWF.dll\n\u2502   \u2502   \u2514\u2500\u2500 xxx.dll\n\u2502   \u2514\u2500\u2500 shaders/\n\u2502       \u251c\u2500\u2500 xxx.gdshader\n\u2502       \u2514\u2500\u2500 xxx.gdshaderinc\n\u251c\u2500\u2500 project.csproj\n\u251c\u2500\u2500 project.godot\n\u2514\u2500\u2500 project.sln\n</code></pre>"},{"location":"getting-started/setup/#4","title":"4.\u6539\u5199\u9879\u76ee\u914d\u7f6e\u6587\u4ef6","text":"<p>\u6253\u5f00\u9879\u76ee\u914d\u7f6e\u6587\u4ef6project.csproj</p> <p>\u5982\u679c\u60a8\u7684\u9879\u76ee\u4e2d\u6ca1\u6709project.godot\u6587\u4ef6\uff0c\u8bf7\u70b9\u51fb\u6807\u9898\u680f\u4e2d\u7684\u9879\u76ee\uff0c\u7136\u540e\u4f9d\u6b21\u70b9\u51fb\u5de5\u5177-&gt;C#-&gt;Create C# solution\u3002</p> <p>\u5982\u4e0b\u56fe\u6240\u793a </p> <p>\u5f00\u542faot\u7f16\u8bd1 <pre><code>&lt;PublishAot&gt;true&lt;/PublishAot&gt;\n</code></pre></p> <p>\u52a0\u5165\u4ee5\u4e0b\u5f15\u7528\uff1a</p> <pre><code>&lt;Reference Include=\"Clipper2Lib\"&gt;\n    &lt;HintPath&gt;Godot-SWF/dlls/Clipper2Lib.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"Godot SWF\"&gt;\n    &lt;HintPath&gt;Godot-SWF/dlls/Godot SWF.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"LibTessDotNet\"&gt;\n    &lt;HintPath&gt;Godot-SWF/dlls/LibTessDotNet.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"LibTessDotNet.Double\"&gt;\n    &lt;HintPath&gt;Godot-SWF/dlls/LibTessDotNet.Double.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"SharpCompress\"&gt;\n    &lt;HintPath&gt;Godot-SWF/dlls/SharpCompress.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n&lt;Reference Include=\"SwfLib\"&gt;\n    &lt;HintPath&gt;Godot-SWF/dlls/SwfLib.dll&lt;/HintPath&gt;\n&lt;/Reference&gt;\n</code></pre> <p>\u4e3a\u4e86\u907f\u514d\u88c1\u526a\u7a0b\u5e8f\u96c6\uff0c\u8bf7\u518d\u6dfb\u52a0\u4ee5\u4e0b\u5185\u5bb9\uff1a</p> <pre><code>&lt;TrimmerRootAssembly Include=\"GodotSharp\" /&gt;\n&lt;TrimmerRootAssembly Include=\"Clipper2Lib\" /&gt;\n&lt;TrimmerRootAssembly Include=\"Godot SWF\" /&gt;\n&lt;TrimmerRootAssembly Include=\"LibTessDotNet\" /&gt;\n&lt;TrimmerRootAssembly Include=\"LibTessDotNet.Double\" /&gt;\n&lt;TrimmerRootAssembly Include=\"SharpCompress\" /&gt;\n&lt;TrimmerRootAssembly Include=\"SwfLib\" /&gt;\n&lt;TrimmerRootAssembly Include=\"$(TargetName)\" /&gt;\n</code></pre> <p>\u73b0\u5728\uff0c\u9879\u76ee\u914d\u7f6e\u6587\u4ef6\u5e94\u8be5\u770b\u8d77\u6765\u50cf\u8fd9\u6837\uff1a</p> <pre><code>&lt;Project Sdk=\"Godot.NET.Sdk/4.4.1\"&gt;\n  &lt;PropertyGroup&gt;\n    &lt;TargetFramework&gt;net8.0&lt;/TargetFramework&gt;\n    &lt;EnableDynamicLoading&gt;true&lt;/EnableDynamicLoading&gt;\n    &lt;RootNamespace&gt;YourProjectNamespace&lt;/RootNamespace&gt;\n    &lt;EnableDynamicLoading&gt;true&lt;/EnableDynamicLoading&gt;\n    &lt;PublishAot&gt;true&lt;/PublishAot&gt;\n  &lt;/PropertyGroup&gt;\n  &lt;ItemGroup&gt;\n    &lt;TrimmerRootAssembly Include=\"GodotSharp\" /&gt;\n    &lt;TrimmerRootAssembly Include=\"Clipper2Lib\" /&gt;\n    &lt;TrimmerRootAssembly Include=\"Godot SWF\" /&gt;\n    &lt;TrimmerRootAssembly Include=\"LibTessDotNet\" /&gt;\n    &lt;TrimmerRootAssembly Include=\"LibTessDotNet.Double\" /&gt;\n    &lt;TrimmerRootAssembly Include=\"SharpCompress\" /&gt;\n    &lt;TrimmerRootAssembly Include=\"SwfLib\" /&gt;\n    &lt;TrimmerRootAssembly Include=\"$(TargetName)\" /&gt;\n\n    &lt;Reference Include=\"Clipper2Lib\"&gt;\n      &lt;HintPath&gt;Godot-SWF/dlls/Clipper2Lib.dll&lt;/HintPath&gt;\n    &lt;/Reference&gt;\n    &lt;Reference Include=\"Godot SWF\"&gt;\n      &lt;HintPath&gt;Godot-SWF/dlls/Godot SWF.dll&lt;/HintPath&gt;\n    &lt;/Reference&gt;\n    &lt;Reference Include=\"LibTessDotNet\"&gt;\n      &lt;HintPath&gt;Godot-SWF/dlls/LibTessDotNet.dll&lt;/HintPath&gt;\n    &lt;/Reference&gt;\n    &lt;Reference Include=\"LibTessDotNet.Double\"&gt;\n      &lt;HintPath&gt;Godot-SWF/dlls/LibTessDotNet.Double.dll&lt;/HintPath&gt;\n    &lt;/Reference&gt;\n    &lt;Reference Include=\"SharpCompress\"&gt;\n      &lt;HintPath&gt;Godot-SWF/dlls/SharpCompress.dll&lt;/HintPath&gt;\n    &lt;/Reference&gt;\n    &lt;Reference Include=\"SwfLib\"&gt;\n      &lt;HintPath&gt;Godot-SWF/dlls/SwfLib.dll&lt;/HintPath&gt;\n    &lt;/Reference&gt;\n  &lt;/ItemGroup&gt;\n&lt;/Project&gt;\n</code></pre>"},{"location":"getting-started/setup/#5","title":"5. \u5b8c\u6210","text":"<p>\u5b8c\u6210\u4ee5\u4e0a\u6b65\u9aa4\u540e\uff0c\u60a8\u5e94\u8be5\u53ef\u4ee5\u6b63\u5e38\u4f7f\u7528Godot-SWF\u63d2\u4ef6\u4e86\u3002\u60a8\u53ef\u4ee5\u67e5\u770b\u6587\u6863\u4e2d\u7684\u793a\u4f8b\u4ee3\u7801\u548capi\u8bf4\u660e\u3002</p>"},{"location":"user-guide/advanced/","title":"\u9ad8\u7ea7\u4f7f\u7528\u6307\u5357","text":"<p>\u672c\u6587\u6863\u4ecb\u7ecd Godot-SWF \u63d2\u4ef6\u7684\u9ad8\u7ea7\u529f\u80fd\u548c\u6700\u4f73\u5b9e\u8df5\uff0c\u5e2e\u52a9\u60a8\u5145\u5206\u53d1\u6325\u63d2\u4ef6\u7684\u6f5c\u529b\u3002</p>"},{"location":"user-guide/advanced/#_2","title":"\u89e3\u6790\u7b56\u7565\u4e0e\u6027\u80fd\u4f18\u5316","text":""},{"location":"user-guide/advanced/#1","title":"1. \u6b63\u786e\u7684\u89e3\u6790\u65f6\u673a","text":"<pre><code># \u63a8\u8350\uff1a\u9884\u52a0\u8f7d\u548c\u9884\u89e3\u6790\nfunc _ready():\n    # \u5728\u573a\u666f\u52a0\u8f7d\u65f6\u521d\u59cb\u5316\u5e76\u89e3\u6790\n    var swf = godot_swf_gds_bridge.new()\n    swf.class_init(\"res://character.swf\")\n    add_child(swf)\n\n    # \u8fde\u63a5\u89e3\u6790\u5b8c\u6210\u4fe1\u53f7\n    swf.parse_finished.connect(_on_parse_finished)\n\n    # \u5f00\u59cb\u89e3\u6790\uff08\u5f02\u6b65\uff0c\u9700\u8981\u7b49\u5f85\u51e0\u79d2\uff09\n    swf.parse()\n\nfunc _on_parse_finished():\n    # \u89e3\u6790\u5b8c\u6210\u540e\u624d\u521b\u5efa\u52a8\u753b\u5bf9\u8c61\n    _idle_anim = swf.create_anim(10)\n    _attack_anim = swf.create_anim(100)\n\n    # \u6807\u8bb0\u4e3a\u53ef\u7528\n    _animations_ready = true\n    print(\"SWF \u89e3\u6790\u5b8c\u6210\uff0c\u52a8\u753b\u51c6\u5907\u5c31\u7eea\")\n\nfunc play_attack():\n    # \u786e\u4fdd\u52a8\u753b\u5df2\u51c6\u5907\u5c31\u7eea\n    if _animations_ready:\n        _attack_anim.play()\n    else:\n        push_warning(\"\u52a8\u753b\u5c1a\u672a\u89e3\u6790\u5b8c\u6210\uff0c\u65e0\u6cd5\u64ad\u653e\")\n</code></pre>"},{"location":"user-guide/advanced/#2","title":"2. \u8fdb\u5ea6\u76d1\u63a7\u4e0e\u7528\u6237\u4f53\u9a8c","text":"<pre><code>func load_with_progress():\n    var swf = godot_swf_gds_bridge.new()\n    swf.class_init(\"res://large_character.swf\")\n    add_child(swf)\n\n    # \u663e\u793a\u52a0\u8f7d\u8fdb\u5ea6\n    _show_loading_screen()\n\n    # \u5728\u540e\u53f0\u89e3\u6790\uff0c\u540c\u65f6\u66f4\u65b0\u8fdb\u5ea6\n    var tween = create_tween()\n    tween.tween_method(_update_loading_progress, 0.0, 1.0, 0.5) # \u6a21\u62df\u8fdb\u5ea6\n\n    swf.parse_finished.connect(_on_parse_complete)\n    swf.parse()\n\nfunc _update_loading_progress(progress):\n    # \u53ef\u4ee5\u7ed3\u5408\u5b9e\u9645\u7684\u89e3\u6790\u8fdb\u5ea6\n    var actual_progress = swf.get_parse_progress()\n    _loading_bar.value = actual_progress * 100\n\nfunc _on_parse_complete():\n    _hide_loading_screen()\n    _initialize_animations()\n</code></pre>"},{"location":"user-guide/advanced/#3","title":"3. \u5185\u5b58\u7ba1\u7406\u4e0e\u8d44\u6e90\u91ca\u653e","text":"<pre><code># \u7ba1\u7406\u591a\u4e2a SWF \u6587\u4ef6\nvar _loaded_swf_files = {}\n\nfunc load_swf_asset(swf_path):\n    if _loaded_swf_files.has(swf_path):\n        return _loaded_swf_files[swf_path]\n\n    var swf = godot_swf_gds_bridge.new()\n    swf.class_init(swf_path)\n    add_child(swf)\n\n    _loaded_swf_files[swf_path] = swf\n    return swf\n\nfunc unload_swf_asset(swf_path):\n    if _loaded_swf_files.has(swf_path):\n        var swf = _loaded_swf_files[swf_path]\n        swf.stop_all()\n        remove_child(swf)\n        swf.queue_free()\n        _loaded_swf_files.erase(swf_path)\n</code></pre>"},{"location":"user-guide/advanced/#_3","title":"\u9ad8\u7ea7\u52a8\u753b\u63a7\u5236","text":""},{"location":"user-guide/advanced/#1_1","title":"1. \u52a8\u753b\u72b6\u6001\u673a","text":"<pre><code>class_name CharacterAnimationStateMachine\n\nenum State { IDLE, WALKING, ATTACKING, JUMPING }\n\nvar _current_state = State.IDLE\nvar _swf_player\nvar _animations = {}\n\nfunc _init(swf_player):\n    _swf_player = swf_player\n\n    # \u9884\u5b9a\u4e49\u52a8\u753b\u6620\u5c04\n    _animations[State.IDLE] = swf_player.create_anim(10)\n    _animations[State.WALKING] = swf_player.create_anim(20)\n    _animations[State.ATTACKING] = swf_player.create_anim(30)\n    _animations[State.JUMPING] = swf_player.create_anim(40)\n\n    # \u8bbe\u7f6e\u5faa\u73af\u5c5e\u6027\n    _animations[State.IDLE].is_looping = true\n    _animations[State.WALKING].is_looping = true\n    _animations[State.ATTACKING].is_looping = false\n    _animations[State.JUMPING].is_looping = false\n\n    # \u8fde\u63a5\u653b\u51fb\u52a8\u753b\u5b8c\u6210\u4e8b\u4ef6\n    _animations[State.ATTACKING].animation_finished.connect(_on_attack_finished)\n\nfunc transition_to(new_state):\n    if _current_state == new_state:\n        return\n\n    # \u505c\u6b62\u5f53\u524d\u72b6\u6001\u52a8\u753b\n    if _animations.has(_current_state):\n        _animations[_current_state].stop()\n\n    # \u64ad\u653e\u65b0\u72b6\u6001\u52a8\u753b\n    if _animations.has(new_state):\n        _animations[new_state].play()\n\n    _current_state = new_state\n\nfunc _on_attack_finished():\n    # \u653b\u51fb\u5b8c\u6210\u540e\u81ea\u52a8\u56de\u5230\u5f85\u673a\u72b6\u6001\n    transition_to(State.IDLE)\n</code></pre>"},{"location":"user-guide/advanced/#2_1","title":"2. \u52a8\u753b\u5c42\u7ea7\u4e0e\u6df7\u5408","text":"<pre><code>var _animation_layers = {\n    \"base\": null,      # \u57fa\u7840\u5c42 (\u5f85\u673a/\u884c\u8d70)\n    \"upper\": null,     # \u4e0a\u534a\u8eab\u5c42 (\u653b\u51fb/\u4f7f\u7528\u7269\u54c1)\n    \"facial\": null,    # \u8868\u60c5\u5c42\n    \"effect\": null,    # \u7279\u6548\u5c42\n}\n\nfunc setup_layered_animation(swf_player):\n    # \u521d\u59cb\u5316\u5404\u5c42\u52a8\u753b\n    _animation_layers[\"base\"] = swf_player.create_anim(100)\n    _animation_layers[\"upper\"] = swf_player.create_anim(200)\n    _animation_layers[\"facial\"] = swf_player.create_anim(300)\n    _animation_layers[\"effect\"] = swf_player.create_anim(400)\n\n    # \u8bbe\u7f6e\u57fa\u7840\u5c42\u5faa\u73af\n    _animation_layers[\"base\"].is_looping = true\n\nfunc play_layer_animation(layer_name, shape_id, swf_player):\n    # \u505c\u6b62\u8be5\u5c42\u5f53\u524d\u52a8\u753b\n    if _animation_layers[layer_name]:\n        _animation_layers[layer_name].stop()\n\n    # \u521b\u5efa\u5e76\u64ad\u653e\u65b0\u52a8\u753b\n    _animation_layers[layer_name] = swf_player.create_anim(shape_id)\n    _animation_layers[layer_name].play()\n\n# \u4f7f\u7528\u793a\u4f8b\uff1a\u884c\u8d70\u65f6\u653b\u51fb\nfunc walk_and_attack():\n    play_layer_animation(\"base\", 20, swf_player)  # \u884c\u8d70\u52a8\u753b\n    play_layer_animation(\"upper\", 30, swf_player) # \u653b\u51fb\u52a8\u753b\n</code></pre>"},{"location":"user-guide/advanced/#3_1","title":"3. \u52a8\u753b\u4e8b\u4ef6\u7cfb\u7edf","text":"<pre><code># \u6269\u5c55\u52a8\u753b\u7c7b\u4ee5\u652f\u6301\u81ea\u5b9a\u4e49\u4e8b\u4ef6\nclass_name AdvancedSWFAnimation extends swf_animation\n\nsignal custom_event(event_name, frame_data)\n\nfunc _init(aid, swf):\n    super(aid, swf)\n    # \u8fd9\u91cc\u53ef\u4ee5\u6dfb\u52a0\u81ea\u5b9a\u4e49\u4e8b\u4ef6\u5904\u7406\u903b\u8f91\n\n# \u5728\u52a8\u753b\u5173\u952e\u5e27\u89e6\u53d1\u4e8b\u4ef6\nfunc trigger_custom_event(event_name, frame_data):\n    custom_event.emit(event_name, frame_data)\n\n# \u4f7f\u7528\u793a\u4f8b\nfunc setup_attack_animation():\n    var attack_anim = AdvancedSWFAnimation.new(aid, swf)\n    attack_anim.custom_event.connect(_on_attack_event)\n\n    # \u5047\u8bbe\u5728\u7279\u5b9a\u5e27\u4f1a\u89e6\u53d1\u4e8b\u4ef6\n    # \"hit_frame\" - \u547d\u4e2d\u5e27\n    # \"effect_frame\" - \u7279\u6548\u5e27\n\nfunc _on_attack_event(event_name, frame_data):\n    match event_name:\n        \"hit_frame\":\n            spawn_hit_effect()\n            apply_damage()\n        \"effect_frame\":\n            spawn_magic_effect()\n</code></pre>"},{"location":"user-guide/advanced/#_4","title":"\u53d8\u6362\u4e0e\u6548\u679c\u9ad8\u7ea7\u5e94\u7528","text":""},{"location":"user-guide/advanced/#1_2","title":"1. \u52a8\u6001\u53d8\u6362\u4e0e\u52a8\u753b\u540c\u6b65","text":"<pre><code>func setup_dynamic_character():\n    var character_anim = swf.create_anim(500)\n\n    # \u4f7f\u7528 Tween \u521b\u5efa\u590d\u6742\u7684\u53d8\u6362\u5e8f\u5217\n    var tween = create_tween()\n    tween.set_parallel(true)  # \u5e76\u884c\u6267\u884c\u591a\u4e2a\u53d8\u6362\n\n    # \u7f29\u653e\u52a8\u753b\n    tween.tween_method(_update_scale, Vector2(1, 1), Vector2(1.5, 1.5), 0.5)\n\n    # \u65cb\u8f6c\u52a8\u753b\n    tween.tween_method(_update_rotation, 0, 360, 1.0)\n\n    # \u989c\u8272\u95ea\u70c1\n    tween.tween_method(_update_color, Color.WHITE, Color.RED, 0.25)\n    tween.tween_method(_update_color, Color.RED, Color.WHITE, 0.25)\n\n    character_anim.play()\n\nfunc _update_scale(scale):\n    current_anim.transform = Transform2D().scaled(scale)\n\nfunc _update_rotation(angle):\n    var current_scale = current_anim.transform.get_scale()\n    current_anim.transform = Transform2D(deg_to_rad(angle), Vector2.ZERO).scaled(current_scale)\n\nfunc _update_color(color):\n    current_anim.color = color\n</code></pre>"},{"location":"user-guide/advanced/#2_2","title":"2. \u89c6\u5dee\u4e0e\u6df1\u5ea6\u6548\u679c","text":"<pre><code>func create_parallax_effect():\n    var background_anim = swf.create_anim(600)\n    var midground_anim = swf.create_anim(601)\n    var foreground_anim = swf.create_anim(602)\n\n    # \u8bbe\u7f6e\u4e0d\u540c\u7684\u53d8\u6362\u6765\u6a21\u62df\u6df1\u5ea6\n    background_anim.transform = Transform2D().scaled(Vector2(0.8, 0.8))\n    midground_anim.transform = Transform2D().scaled(Vector2(0.9, 0.9))\n    foreground_anim.transform = Transform2D().scaled(Vector2(1.0, 1.0))\n\n    # \u64ad\u653e\u6240\u6709\u5c42\n    background_anim.play()\n    midground_anim.play()\n    foreground_anim.play()\n</code></pre>"},{"location":"user-guide/advanced/#_5","title":"\u6700\u4f73\u5b9e\u8df5\u4e0e\u67b6\u6784\u6a21\u5f0f","text":""},{"location":"user-guide/advanced/#1_3","title":"1. \u8d44\u6e90\u7ba1\u7406\u4e0e\u52a0\u8f7d\u7b56\u7565","text":"<pre><code># SWF \u8d44\u6e90\u7ba1\u7406\u5668\nclass_name SWFResourceManager extends Node\n\nvar _swf_cache = {}\nvar _loading_callbacks = {}\n\nfunc load_swf(path, on_loaded_callback = null):\n    if _swf_cache.has(path):\n        # \u5df2\u7f13\u5b58\uff0c\u76f4\u63a5\u8fd4\u56de\n        if on_loaded_callback:\n            on_loaded_callback.call(_swf_cache[path])\n        return _swf_cache[path]\n\n    # \u65b0\u52a0\u8f7d\n    var swf = godot_swf_gds_bridge.new()\n    swf.class_init(path)\n    add_child(swf)\n\n    # \u5b58\u50a8\u56de\u8c03\n    if on_loaded_callback:\n        if not _loading_callbacks.has(path):\n            _loading_callbacks[path] = []\n        _loading_callbacks[path].append(on_loaded_callback)\n\n    # \u8fde\u63a5\u89e3\u6790\u5b8c\u6210\u4e8b\u4ef6\n    swf.parse_finished.connect(_on_swf_loaded.bind(path, swf))\n    swf.parse()\n\n    return swf\n\nfunc _on_swf_loaded(path, swf):\n    _swf_cache[path] = swf\n\n    # \u8c03\u7528\u6240\u6709\u7b49\u5f85\u7684\u56de\u8c03\n    if _loading_callbacks.has(path):\n        for callback in _loading_callbacks[path]:\n            callback.call(swf)\n        _loading_callbacks.erase(path)\n</code></pre>"},{"location":"user-guide/advanced/#2_3","title":"2. \u914d\u7f6e\u9a71\u52a8\u7684\u52a8\u753b\u7cfb\u7edf","text":"<pre><code># animation_config.gd\nextends Node\n\nconst CHARACTER_ANIMATIONS = {\n    \"hero\": {\n        \"idle\": 10,\n        \"walk\": 20,\n        \"run\": 30,\n        \"attack\": 40,\n        \"jump\": 50,\n        \"death\": 60\n    },\n    \"enemy\": {\n        \"idle\": 100,\n        \"walk\": 110,\n        \"attack\": 120,\n        \"hurt\": 130,\n        \"death\": 140\n    }\n}\n\nstatic func get_animation_id(character_type, animation_name):\n    if CHARACTER_ANIMATIONS.has(character_type):\n        return CHARACTER_ANIMATIONS[character_type].get(animation_name, 0)\n    return 0\n\nstatic func get_looping_animations():\n    return [\"idle\", \"walk\", \"run\"]\n\n# \u4f7f\u7528\u65b9\u5f0f\nfunc setup_character_animations(character_type, swf_player):\n    var animations = {}\n    var char_anims = CHARACTER_ANIMATIONS[character_type]\n\n    for anim_name in char_anims:\n        var anim_id = char_anims[anim_name]\n        var anim = swf_player.create_anim(anim_id)\n        anim.is_looping = anim_name in get_looping_animations()\n        animations[anim_name] = anim\n\n    return animations\n</code></pre>"},{"location":"user-guide/advanced/#_6","title":"\u8c03\u8bd5\u4e0e\u95ee\u9898\u6392\u67e5","text":""},{"location":"user-guide/advanced/#1_4","title":"1. \u89e3\u6790\u95ee\u9898\u6392\u67e5","text":"<pre><code>func debug_parsing_issues():\n    var swf = godot_swf_gds_bridge.new()\n    swf.class_init(\"res://problematic.swf\")\n    add_child(swf)\n\n    # \u76d1\u63a7\u89e3\u6790\u8fc7\u7a0b\n    var timer = Timer.new()\n    add_child(timer)\n    timer.timeout.connect(_check_parse_progress.bind(swf))\n    timer.start(0.1)  # \u6bcf100ms\u68c0\u67e5\u4e00\u6b21\n\n    swf.parse_finished.connect(_on_debug_parse_finished.bind(timer))\n    swf.parse()\n\nfunc _check_parse_progress(swf):\n    var progress = swf.get_parse_progress()\n    print(\"\u89e3\u6790\u8fdb\u5ea6: \", progress)\n\n    # \u5982\u679c\u8fdb\u5ea6\u957f\u65f6\u95f4\u5361\u4f4f\uff0c\u53ef\u80fd\u662f\u6587\u4ef6\u6709\u95ee\u9898\n    if progress &gt; 0.0 and progress &lt; 1.0:\n        # \u89e3\u6790\u4e2d...\n        pass\n\nfunc _on_debug_parse_finished(timer):\n    timer.stop()\n    print(\"\u89e3\u6790\u5b8c\u6210\")\n</code></pre>"},{"location":"user-guide/advanced/#2_4","title":"2. \u52a8\u753b\u64ad\u653e\u95ee\u9898\u6392\u67e5","text":"<pre><code>func debug_animation_playback():\n    # \u6d4b\u8bd5\u6240\u6709\u53ef\u80fd\u7684\u52a8\u753bID\n    for i in range(1, 1000):\n        var anim = swf.create_anim(i)\n        anim.animation_finished.connect(_on_anim_test_finished.bind(i))\n\n        # \u64ad\u653e\u77ed\u6682\u65f6\u95f4\u540e\u505c\u6b62\n        anim.play()\n        await get_tree().create_timer(0.1).timeout\n\n        if anim.is_playing():\n            print(\"\u53d1\u73b0\u6709\u6548\u52a8\u753bID: \", i)\n\n        anim.stop()\n\nfunc _on_anim_test_finished(anim_id):\n    print(\"\u52a8\u753b\u5b8c\u6210: \", anim_id)\n</code></pre>"},{"location":"user-guide/basics/","title":"\u57fa\u7840\u4f7f\u7528\u6307\u5357","text":""},{"location":"user-guide/basics/#gdscript","title":"GDScript \u4f7f\u7528\u65b9\u5f0f","text":""},{"location":"user-guide/basics/#_2","title":"\u57fa\u672c\u5de5\u4f5c\u6d41","text":"<pre><code>extends Node2D\n\nvar swf_player\nvar idle_anim\nvar attack_anim\n\nfunc _ready():\n    # 1. \u521d\u59cb\u5316 SWF \u64ad\u653e\u5668\n    swf_player = godot_swf_gds_bridge.new()\n    swf_player.class_init(\"res://character.swf\")\n    add_child(swf_player)\n\n    swf_player.parse_finished.connect(_on_swf_parse_complete)\n    swf_player.parse()\n\n\nfunc _on_swf_parse_complete():\n    idle_anim = swf_player.create_anim(10)\n    attack_anim = swf_player.create_anim(100)\n\n    idle_anim.is_looping = true\n    attack_anim.is_looping = false\n\n    attack_anim.animation_finished.connect(_on_attack_finished)\n\n    idle_anim.play()\n\nfunc _on_attack_finished():\n    # \u653b\u51fb\u52a8\u753b\u5b8c\u6210\u540e\u56de\u5230\u5f85\u673a\n    idle_anim.play()\n    attack_anim.stop()\n</code></pre>"},{"location":"user-guide/basics/#_3","title":"\u52a8\u753b\u5c5e\u6027\u63a7\u5236","text":"<pre><code># \u53d8\u6362\u63a7\u5236\nanim.transform = Transform2D().scaled(Vector2(2, 2))\n\n# \u989c\u8272\u63a7\u5236\nanim.color = Color(1, 0.5, 0.5)  # \u7ea2\u8272\u8c03\n\n# \u53ef\u89c1\u6027\u63a7\u5236\nanim.visible = false\n\n# \u64ad\u653e\u901f\u5ea6\nanim.speed_scale = 2.0  # 2\u500d\u901f\u64ad\u653e\n\n# \u5faa\u73af\u8bbe\u7f6e\nanim.is_looping = true\n</code></pre>"},{"location":"user-guide/basics/#_4","title":"\u64ad\u653e\u63a7\u5236","text":"<pre><code># \u64ad\u653e\u52a8\u753b\nanim.play()\n\n# \u6682\u505c\u52a8\u753b\nanim.pause()\n\n# \u7ee7\u7eed\u64ad\u653e\nanim.continue_anim()\n\n# \u505c\u6b62\u52a8\u753b\nanim.stop()\n\n# \u6682\u505c\u4f46\u662f\u64ad\u653e\u5b50\u52a8\u753b\nanim.pause_and_play_children()\n</code></pre>"},{"location":"user-guide/basics/#c","title":"C# \u4f7f\u7528\u65b9\u5f0f","text":""},{"location":"user-guide/basics/#_5","title":"\u57fa\u672c\u5de5\u4f5c\u6d41","text":"<pre><code>public partial class Character : Node2D\n{\n    private SWF _swf;\n    private SwfAnimation _idleAnim;\n    private SwfAnimation _attackAnim;\n\n    public override void _Ready()\n    {\n        // 1. \u521d\u59cb\u5316 SWF\n        _swf = new SWF(\"res://character.swf\", this);\n        AddChild(_swf);\n        _swf.ParseFinished += OnParseFinished;\n        _swf.Parse();\n    }\n\n    private void OnIdleFinished()\n    {\n        GD.Print(\"\u5f85\u673a\u52a8\u753b\u5b8c\u6210\");\n    }\n\n    private void OnParseFinished()\n    {\n        _idleAnim = _swf.CreateAnim(10);\n        _idleAnim.IsLooping = true;\n        _attackAnim = _swf.CreateAnim(100);\n        _attackAnim.IsLooping = false;\n        _attackAnim.AnimationFinished += OnAttackFinished;\n        _idleAnim.Play();\n    }\n\n    private void OnAttackFinished()\n    {\n        GD.Print(\"\u653b\u51fb\u52a8\u753b\u5b8c\u6210\");\n        _idleAnim.Play();\n        _attackAnim.Stop();\n    }\n</code></pre>"},{"location":"user-guide/basics/#_6","title":"\u6700\u4f73\u5b9e\u8df5","text":""},{"location":"user-guide/basics/#1","title":"1. \u52a8\u753b\u72b6\u6001\u7ba1\u7406","text":"<pre><code>var current_anim = null\n\nfunc play_animation(anim):\n    if current_anim and current_anim != anim:\n        current_anim.stop()\n    current_anim = anim\n    anim.play()\n</code></pre>"},{"location":"user-guide/basics/#2","title":"2. \u8d44\u6e90\u6e05\u7406","text":"<pre><code>func _exit_tree():\n    if swf_player:\n        swf_player.stop_all()\n        swf_player.clear()\n</code></pre>"},{"location":"user-guide/basics/#3","title":"3. \u9519\u8bef\u5904\u7406","text":"<pre><code>func safe_play(anim):\n    if anim and anim is swf_animation:\n        anim.play()\n    else:\n        push_error(\"\u65e0\u6548\u7684\u52a8\u753b\u5bf9\u8c61\")\n</code></pre>"},{"location":"user-guide/basics/#_7","title":"\u5e38\u89c1\u95ee\u9898","text":""},{"location":"user-guide/basics/#_8","title":"\u52a8\u753b\u4e0d\u663e\u793a\uff1f","text":"<ul> <li>\u68c0\u67e5 SWF \u6587\u4ef6\u8def\u5f84\u662f\u5426\u6b63\u786e</li> <li>\u786e\u8ba4\u8c03\u7528\u4e86 <code>parse()</code> \u65b9\u6cd5</li> <li>\u9a8c\u8bc1\u52a8\u753b ID \u662f\u5426\u5b58\u5728</li> </ul>"},{"location":"user-guide/basics/#_9","title":"\u6027\u80fd\u95ee\u9898\uff1f","text":"<ul> <li>\u907f\u514d\u540c\u65f6\u64ad\u653e\u8fc7\u591a\u590d\u6742\u52a8\u753b</li> <li>\u4f7f\u7528\u5408\u9002\u7684\u7f29\u653e\u6bd4\u4f8b</li> <li>\u53ca\u65f6\u505c\u6b62\u4e0d\u9700\u8981\u7684\u52a8\u753b</li> </ul>"},{"location":"user-guide/basics/#_10","title":"\u5173\u952e\u6b65\u9aa4\u8bf4\u660e","text":"<ol> <li>\u521b\u5efa SWF \u5b9e\u4f8b - \u4f7f\u7528 <code>new SWF(swfPath, canvasItem)</code> \u521b\u5efa\u5b9e\u4f8b</li> <li>\u6dfb\u52a0\u5230\u573a\u666f\u6811 - \u4f7f\u7528 <code>AddChild()</code> \u5c06 SWF \u5b9e\u4f8b\u6dfb\u52a0\u5230\u8282\u70b9\u6811</li> <li>\u89e3\u6790\u6587\u4ef6 - \u8c03\u7528 <code>Parse()</code> \u65b9\u6cd5\u89e3\u6790 SWF \u6587\u4ef6\u5185\u5bb9</li> <li>\u64ad\u653e\u52a8\u753b - \u4f7f\u7528 <code>Play(shapeId)</code> \u64ad\u653e\u6307\u5b9a\u52a8\u753b</li> </ol>"},{"location":"user-guide/basics/#_11","title":"\u53c2\u6570\u8bf4\u660e","text":"<ul> <li><code>swfPath</code>: SWF \u6587\u4ef6\u5728\u9879\u76ee\u4e2d\u7684\u8def\u5f84\uff08\u5982\uff1a<code>\"res://animations/character.swf\"</code>\uff09</li> <li><code>canvasItem</code>: \u6e32\u67d3\u76ee\u6807\uff0c\u901a\u5e38\u4f20\u5165 <code>this</code></li> <li><code>shapeId</code>: \u52a8\u753bID\uff0c\u9700\u8981\u5728 SWF \u6587\u4ef6\u4e2d\u67e5\u770b\u6216\u901a\u8fc7\u5de5\u5177\u83b7\u53d6</li> </ul>"}]}